{% extends "layout.html" %}

{% block title %}
    Remove user
{% endblock %}

{% block css %}href="/static/css/main.css"{% endblock %}

{% block info %}            <div class="emp_info">
    <h2>{{employee_info[0]["first_name"]}}, {{employee_info[0]["role"]}}</h2>
</div>{% endblock %}

{% block main %}
{# [0]["id"] 
    {{userout}}
    {{users_data_for_reception_manager[2]["id"]}}#}
    {% if warning == 1 %}
        <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            Choose User!
        </div>
    {% elif warning == 2 %}
        <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            Role choosen is not in roles options!
        </div>
    {# {% elif warning == 5 %}
        <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            status choosen must be not to user's status!
        </div> #}
    {% endif %}
    {% if (employee_info[0]["role"] == "Admin") and (employee_info[0]["status"] == "Working") %}

        <div class="container">
            <div class="content ">
                <form action="/changinguserstatus" method="post">
                    <h2 class="white">changing user's status</h2>
                    
                    <div class="form-control">
                        <select name="user" required>
                            <option selected disabled>Name,role</option>
                            {% for user in users_data_for_admin %}
                                {% if user["middle_name"] %}
                                    <option value="{{user['id']}}">
                                        <p>{{user["first_name"]}}</p>
                                        <p> {{user["middle_name"]}}</p>
                                        <p> {{user["last_name"]}}</p>,<p> {{user["role"]}}</p>
                                    </option>
                                {% else %}
                                    <option value="{{user['id']}}">
                                        <p>{{user["first_name"]}}</p>
                                        <p> {{user["last_name"]}}</p>,<p> {{user["role"]}}</p>
                                    </option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <span class="select-btn">
                            <i class="bi bi-chevron-down"></i>
                        </span>
                    </div>

                    <div class="form-control">
                        <select name="status" required>
                            <option selected disabled>Status</option>
                            {% for status in status_options %}
                                <option value="{{status}}">
                                    <p>{{status}}</p>
                                </option>
                                {# {% if status user[]["status"] %} #}
                            {% endfor %}
                        </select>
                        <span class="select-btn">
                            <i class="bi bi-chevron-down"></i>
                        </span>
                    </div>
                    <div class="form-row-last">
                        <input type="submit" name="register" class="register" value="room registeration">
                    </div>

                </form>
            </div>
        </div>
        {% elif (employee_info[0]["role"] == "Reception manager") and (employee_info[0]["status"] == "Working") %}

        <div class="container">
            <div class="content ">
                <form action="/changinguserstatus" method="post">
                    <h2 class="white">changing user's status</h2>
                    
                    <div class="form-control">
                        <select name="user" required>
                            <option selected disabled>Name,role</option>
                            {% for user in users_data_for_reception_manager %}
                                {% if user["middle_name"] %}
                                    <option value="{{user['id']}}">
                                        <p>{{user["first_name"]}}</p>
                                        <p> {{user["middle_name"]}}</p>
                                        <p> {{user["last_name"]}}</p>,<p> {{user["role"]}}</p>
                                    </option>
                                {% else %}
                                    <option value="{{user['id']}}">
                                        <p>{{user["first_name"]}}</p>
                                        <p> {{user["last_name"]}}</p>,<p> {{user["role"]}}</p>
                                    </option>
                                {% endif %}
                            {% endfor %}
                        </select>
                        <span class="select-btn">
                            <i class="bi bi-chevron-down"></i>
                        </span>
                    </div>

                    <div class="form-control">
                        <select name="status" required>
                            <option selected disabled>Status</option>
                            {% for status in status_options %}
                                <option value="{{status}}">
                                    <p>{{status}}</p>
                                </option>
                            {% endfor %}
                        </select>
                        <span class="select-btn">
                            <i class="bi bi-chevron-down"></i>
                        </span>
                    </div>
                    <div class="form-row-last">
                        <input type="submit" name="register" class="register" value="room registeration">
                    </div>

                </form>
            </div>
        </div>
    {% elif warning == 3 %}
        <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            Status choosen is not in status options !
        </div>
    {% elif warning == 4 %}
        <div class="alert alert-warning" role="alert">
            <i class="bi bi-exclamation-triangle-fill"></i>
            You Cannot remove this user!
        </div>
    {#{% endif %}#}
    {% else %}
    <div class="alert alert-danger" role="alert">
        <i class="bi bi-exclamation-octagon-fill"></i>
        Invalid role or suspicious action!
    </div>
    {% endif %}

{% endblock %}